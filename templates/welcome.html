<!DOCTYPE html>
<html lang="en">
    <head>
        <title>StockSync.com | Dashboard</title>
        <meta charset="utf-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <link
            rel="shortcut icon"
            type="image/x-icon"
            href="../static/icon.png"
        />
        <link rel="stylesheet" href="../static/welcome.css" />
        <script
            src="https://kit.fontawesome.com/e4cb96cad7.js"
            crossorigin="anonymous"
        ></script>
    </head>
    <body>
        <div>
            <nav>
                <div class="container">
                    <div class="nav-left">
                        <span>
                            <a href="/dashboard">
                                <img
                                    src="../static/icon.png"
                                    class="img-fluid rounded"
                                    width="40"
                                    height="40"
                                />
                            </a>
                        </span>
                        <span>
                            <a href="/graph" class="nav-link">Graph</a>
                            <a href="/filter" class="nav-link">Filter</a>
                        </span>
                    </div>
                    <div class="nav-left-2">
                        <span>
                            <a>{{username}}</a>
                        </span>
                    </div>
                    <a href="/logout" style="margin-right: 15px">
                        <img
                            src="../static/logout.png"
                            alt=""
                            width="20"
                            height="20"
                        />
                    </a>
                </div>
            </nav>
        </div>
        <div class="links">
            <div class="gradient link">
                <a href="./graph">
                    <svg
                        fill="#000000"
                        height="50%"
                        width="50%"
                        version="1.1"
                        id="graph_svg"
                        xmlns="http://www.w3.org/2000/svg"
                        xmlns:xlink="http://www.w3.org/1999/xlink"
                        viewBox="0 0 60 60"
                        xml:space="preserve"
                    >
                        <g>
                            <circle cx="21" cy="19" r="1" />
                            <circle cx="21" cy="23" r="1" />
                            <circle cx="21" cy="27" r="1" />
                            <circle cx="21" cy="31" r="1" />
                            <circle cx="21" cy="35" r="1" />
                            <path
                                d="M29,19v6h-4V15h-8v6h-6v16H8c-0.552,0-1,0.447-1,1s0.448,1,1,1h3h6h2h4h2h4h2h4h2h4h2h6h3c0.552,0,1-0.447,1-1
		s-0.448-1-1-1h-3V15h-6v-3h-8v7H29z M13,37V23h4v14H13z M20,37c0-0.552-0.448-1-1-1v-2c0.552,0,1-0.448,1-1s-0.448-1-1-1v-2
		c0.552,0,1-0.448,1-1s-0.448-1-1-1v-2c0.552,0,1-0.448,1-1s-0.448-1-1-1v-2c0.552,0,1-0.448,1-1s-0.448-1-1-1v-2
		c0.552,0,1-0.448,1-1h2c0,0.552,0.448,1,1,1v2c-0.552,0-1,0.448-1,1s0.448,1,1,1v2c-0.552,0-1,0.448-1,1s0.448,1,1,1v2
		c-0.552,0-1,0.448-1,1s0.448,1,1,1v2c-0.552,0-1,0.448-1,1s0.448,1,1,1v2c-0.552,0-1,0.448-1,1H20z M25,37V27h4v10H25z M31,37V25
		v-4h4v16H31z M47,17v20h-4V17H47z M37,14h4v1v22h-4V19V14z"
                            />
                            <path
                                d="M60,4H31V1c0-0.553-0.448-1-1-1s-1,0.447-1,1v3H0v42h27.586L15.293,58.293c-0.391,0.391-0.391,1.023,0,1.414
		C15.488,59.902,15.744,60,16,60s0.512-0.098,0.707-0.293L29,47.414V57c0,0.553,0.448,1,1,1s1-0.447,1-1v-9.586l12.293,12.293
		C43.488,59.902,43.744,60,44,60s0.512-0.098,0.707-0.293c0.391-0.391,0.391-1.023,0-1.414L32.414,46H60V4z M58,44H2V6h56V44z"
                            />
                        </g>
                    </svg>
                </a>
            </div>
            <div class="inv-gradient link">
                <a href="./filter">
                    <svg
                        fill="#fff"
                        width="50%"
                        height="50%"
                        viewBox="0 0 256 256"
                        id="Flat"
                        xmlns="http://www.w3.org/2000/svg"
                    >
                        <path
                            d="M225.75488,66.7627,160,139.09375v56.625a15.96822,15.96822,0,0,1-7.12549,13.31348l-31.99951,21.332A15.99954,15.99954,0,0,1,96,217.05176v-77.959L30.24561,66.76367A16.00043,16.00043,0,0,1,42.08447,40H213.91553a16.00019,16.00019,0,0,1,11.83935,26.7627Z"
                        />
                    </svg>
                </a>
            </div>
        </div>
        <div class="centered-header">
            <h1
                style="
                    width: 50vw;
                    margin: auto;
                    text-align: center;
                    font-size: 35pt;
                "
            >
                Favorites
            </h1>
        </div>
        <div class="container1">
            <form method="post" action="{{ url_for('dashboard') }}">
                <div class="row">
                    <div class="col-5">
                        <input
                            type="text"
                            name="new_favorite"
                            placeholder="Add a new favorite"
                            class="form-control"
                        />
                    </div>
                    <div class="col-1"></div>
                    <div class="col-3">
                        <button type="submit" class="btn-primary">Add</button>
                    </div>
                </div>
                <ul class="flash-container">
                    {% with messages = get_flashed_messages() %} {% if messages
                    %}
                    <ul class="flashed">
                        {% for message in messages %}
                        <li>{{ message }}</li>
                        {% endfor %}
                    </ul>
                    {% endif %} {% endwith %}
                </ul>
            </form>
        </div>
        <div class="container2">
            {% if combined_array%}
            <div class="row3">
                {% for e1,e2,favorite in combined_array %}
                <div class="col3">
                    <form
                        method="post"
                        action="{{ url_for('remove_favorite', favorite=favorite) }}"
                    >
                        <div class="card-body">
                            <h5 class="card-title">{{ favorite }}</h5>
                            {% if e2|float > 0%}
                            <div
                                style="
                                    background-color: #32de84;
                                    width: 50%;
                                    font-weight: bold;
                                    font-size: 30px;
                                    padding: 1rem;
                                    border-radius: 1rem;
                                    margin: auto;
                                    text-align: center;
                                "
                            >
                                {{e2|float}}%
                                <i class="fa-solid fa-arrow-trend-up"></i>
                            </div>
                            {% else%}
                            <div
                                style="
                                    background-color: #fd5c63;
                                    width: 50%;
                                    font-weight: bold;
                                    font-size: 30px;
                                    padding: 1rem;
                                    border-radius: 1rem;
                                    margin: auto;
                                    text-align: center;
                                "
                            >
                                {{e2}}%
                                <i class="fa-solid fa-arrow-trend-down"></i>
                            </div>
                            {%endif%}
                            <button type="submit" class="remove-button">
                                &#10006;
                            </button>
                        </div>
                    </form>
                </div>
                {% endfor %}
            </div>
            {%else%}
            <div class="empty">No stocks in Your Favorites</div>
            {%endif%}
        </div>
    </body>
</html>
